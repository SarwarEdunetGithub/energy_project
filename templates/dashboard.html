<!doctype html>
<html>
<head>
  <title>Energy Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="container py-4">
  <h2>IoT Smart Energy Dashboard - Neethu | Sarwar</h2>
  <canvas id="energyChart"></canvas>
  <canvas id="tempChart" class="mt-4"></canvas>

  <a href="/reports/" class="btn btn-primary mt-4">Go to Reports</a>

  <script>
    const labels = {{ labels|safe }};
    const energy = {{ energy|safe }};
    const temp = {{ temp|safe }};

    new Chart(document.getElementById('energyChart'), {
      type: 'line',
      data: {
        labels: labels,
        datasets: [{ label: "Energy (kWh)", data: energy, borderColor: "blue", fill: false }]
      }
    });

    new Chart(document.getElementById('tempChart'), {
      type: 'line',
      data: {
        labels: labels,
        datasets: [{ label: "Temperature (Â°C)", data: temp, borderColor: "red", fill: false }]
      }
    });
  </script>
</body>
</html>
